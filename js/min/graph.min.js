//Copyright Â© 2025 Rohan Chakravarty. All Rights Reserved. Licensed under the MIT License. You may obtain a copy of the License at https://rcxdev.com/LICENSE This file is provided "as is", without warranty of any kind.
let codeforcesData=[{date:"2024-07-20",rating:361,contestName:"Codeforces Round 960 (Div. 2)"},{date:"2024-09-01",rating:728,contestName:"Codeforces Round 970 (Div. 3)"}],codechefData=[{date:"2024-09-04",rating:1414,contestName:"Starters 150 (Rated)"},{date:"2024-09-11",rating:1315,contestName:"Starters 151 (Rated)"},{date:"2024-10-16",rating:1477,contestName:"Starters 156 (Rated)"}],leetcodeData=[{date:"2024-06-16",rating:1503,contestName:"Weekly Contest 402"},{date:"2024-06-22",rating:1518,contestName:"Biweekly Contest 133"},{date:"2024-06-23",rating:1542,contestName:"Weekly Contest 403"},{date:"2024-07-20",rating:1520,contestName:"Biweekly Contest 135"},{date:"2024-07-21",rating:1504,contestName:"Weekly Contest 407"},{date:"2024-08-25",rating:1541,contestName:"Weekly Contest 412"},{date:"2024-08-31",rating:1575,contestName:"Biweekly Contest 138"},{date:"2024-09-01",rating:1660,contestName:"Weekly Contest 413"},{date:"2024-09-08",rating:1684,contestName:"Weekly Contest 414"},{date:"2024-09-14",rating:1659,contestName:"Biweekly Contest 139"},{date:"2024-10-12",rating:1718,contestName:"Biweekly Contest 141"},{date:"2024-10-13",rating:1684,contestName:"Weekly Contest 419"}];function generateChart(e){let t=document.getElementById("ratingChart").getContext("2d"),a=e.map(e=>e.date),n=e.map(e=>e.rating),o=e.map(e=>e.contestName);return new Chart(t,{type:"line",data:{labels:a,datasets:[{label:"Rating",data:n,borderColor:"rgb(169, 176, 249)",backgroundColor:"rgb(169, 176, 249,0.2)",tension:.4,fill:!0}]},options:{responsive:!0,maintainAspectRatio:!0,plugins:{tooltip:{callbacks:{title:function(){return""},label:function(e){return o[e.dataIndex]+" - Rating: "+n[e.dataIndex]}}},legend:{labels:{color:"#f2e3ee"}}},scales:{x:{display:!1},y:{title:{display:!0,text:"Rating",color:"#f2e3ee"},ticks:{color:"#f2e3ee"}}}}})}let currentChart=generateChart(leetcodeData),platformRadios=document.querySelectorAll('input[name="platform"]');function generateSummary(e,t,a,n,o=""){return(`I have participated in <span class="highlight">${t}</span> <span class="highlight">${e}</span> contests so far. My current rating stands at <span class="highlight">${a}</span>, with a personal best of <span class="highlight">${n}</span>. `+(o&&`I currently hold the "<span class="highlight">${o}</span>" rank.`)).trim()}platformRadios.forEach(e=>{e.addEventListener("change",e=>{let t=e.target.value,a,n=document.getElementById("platform-summary");n.classList.add("fade-out"),fetch("https://scribe.rohandev.online/stats").then(e=>e.json()).then(e=>{"leetcode"===t?(a=leetcodeData,setTimeout(()=>{n.innerHTML=generateSummary("LeetCode",e.leetcode_contests,e.leetcode_contest_rating.current,e.leetcode_contest_rating.max),requestAnimationFrame(()=>{n.classList.remove("fade-out"),n.classList.add("fade-in"),setTimeout(()=>{n.classList.remove("fade-in")},600)})},350)):"codeforces"===t?(a=codeforcesData,setTimeout(()=>{n.innerHTML=generateSummary("Codeforces",e.codeforces_contests,e.codeforces_contest_rating.current,e.codeforces_contest_rating.max,e.codeforces_contest_rating.rank),requestAnimationFrame(()=>{n.classList.remove("fade-out"),n.classList.add("fade-in"),setTimeout(()=>{n.classList.remove("fade-in")},600)})},350)):"codechef"===t&&(a=codechefData,setTimeout(()=>{n.innerHTML=generateSummary("CodeChef",e.codechef_contests,e.codechef_contest_rating.current,e.codechef_contest_rating.max),requestAnimationFrame(()=>{n.classList.remove("fade-out"),n.classList.add("fade-in"),setTimeout(()=>{n.classList.remove("fade-in")},600)})},350)),currentChart.destroy(),currentChart=generateChart(a)}).catch(e=>console.error("Failed to fetch contest ratings:",e))})}),fetch("https://scribe.rohandev.online/stats").then(e=>e.json()).then(e=>{var e={CodeChef:parseInt(e.competitive_codechef),Codeforces:parseInt(e.competitive_codeforces),Easy:parseInt(e.dsa_easy),Medium:parseInt(e.dsa_medium),Hard:parseInt(e.dsa_hard),Basic:parseInt(e.fundamentals_gfg),HackerRank:parseInt(e.fundamentals_hackerrank)},t=Object.keys(e),a=((e=Object.values(e)).reduce((e,t)=>e+t,0),document.getElementById("dsaPieChart").getContext("2d"));new Chart(a,{type:"doughnut",data:{labels:t,datasets:[{data:e,backgroundColor:["#FF9F1C","#00C9A7","#6A4C93","#F72585","#3A86FF","#FF4C29","#8338EC"],hoverOffset:12,spacing:3,borderWidth:2,borderColor:"#f2e4ef"}]},options:{responsive:!0,maintainAspectRatio:!1,layout:{padding:10},cutout:"50%",animation:{animateRotate:!0,duration:1e3,easing:"easeOutBounce"},plugins:{legend:{position:"bottom",labels:{color:"#f2e4ef",font:{family:"Poppins"}}},tooltip:{callbacks:{title:function(){return""},label:function(e){return e.label+": "+e.raw}}},datalabels:{color:"#0b050a",font:{weight:"bold",size:12,family:"Poppins"},formatter:e=>""+e,anchor:"center",clamp:!0}}},plugins:[ChartDataLabels]})}).catch(e=>{console.error("Failed to fetch pie chart data:",e)});